// Creature class
// Create a "bloop" creature
// NOTE: a creature is an environment


class Bloop {
  constructor(dna_, health) {
    // features
    this.name = null
    this.health = health
    this.dna = dna_
    this.attractions = [Math.random()]
    this.phenotype = { r: 0, g: 0, b: Math.round(this.attractions[0] * 100) }
    this.address = null

    // spaces
    // generated by the attached modules
    this.action_space = []
    this.observation_space = 0

    // modules
    this.slots = 4
    this.modules = []

    // state
    this.observations = []
    this.action = 0 
    this.params = []
    this.state = {}
  }

  spin(action) {
    this.act(action)
  }

  act(action) {
    if (action.length === 2) {
      // TODO: translate action called from agent into action by module
    }
  }

  reset() {
    this.action = 0
    this.params = []
    this.action_space = this.modules.map((module, slot) => [slot, module.params])
    this.observations = []
  }

}

module.exports = { Bloop }